<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.310">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Valerie LeMay">

<title>Exercise 7: Site Productivity and Density Measures</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="07 - Site Productivity And Density Measures_files/libs/clipboard/clipboard.min.js"></script>
<script src="07 - Site Productivity And Density Measures_files/libs/quarto-html/quarto.js"></script>
<script src="07 - Site Productivity And Density Measures_files/libs/quarto-html/popper.min.js"></script>
<script src="07 - Site Productivity And Density Measures_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="07 - Site Productivity And Density Measures_files/libs/quarto-html/anchor.min.js"></script>
<link href="07 - Site Productivity And Density Measures_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="07 - Site Productivity And Density Measures_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="07 - Site Productivity And Density Measures_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="07 - Site Productivity And Density Measures_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="07 - Site Productivity And Density Measures_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exercise 7: Site Productivity and Density Measures</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Valerie LeMay </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="background-overview" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="background-overview">Background &amp; Overview</h2>
<p>To forecast the growth and yield of any stand, a measure of site productivity or site classification is needed. Also, for stand-level GY models, a stand-level competition measure is needed, and for tree-level GY models, tree-level competition measures are needed. There are alternative ways that we classify sites by productivity. In BC, the commonly used ones are:</p>
<ol type="1">
<li><p>Site index (a measure based on actual productivity)</p></li>
<li><p>The BEC system (classification of what a site might do)</p></li>
<li><p>A hybrid of these two called SIBEC.</p></li>
</ol>
<p>For stand-level competition measures, we use crown closure, basal area per ha, and stems per ha (termed “density”) most commonly, but there are other measures including stand density index (SDI) and Curtis’ RD. For tree-level competition measures, we use distance-independent measures, such as basal area of larger trees (BAL) in PrognosisBC, or distance-dependent measures called competition indices (CIs) using the sizes and distances between trees, as measures of the competitive position of each tree.</p>
<hr>
</section>
<section id="learning-objectives" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<ul>
<li><p>To become more familiar with site productivity measures and classification systems used in BC.</p></li>
<li><p>To be able to calculate competition measures and interpret what these mean within and between stands.</p></li>
</ul>
<hr>
</section>
<section id="task-1-site-index-site-series-and-sibec" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="task-1-site-index-site-series-and-sibec">Task 1 <strong>Site index, site series, and SIBEC</strong></h2>
<p>As noted, site productivity can be represented a number of ways. Site index of the leading species is commonly used.&nbsp; However, where there are no trees, or there is a mixed species forest, other options need to be considered.&nbsp;&nbsp;</p>
<p><em>SiteTools</em> is a BC software package designed to:</p>
<ol type="1">
<li><p>calculate site index given site height and age for the leading (i.e., dominant) species</p></li>
<li><p>calulate a height versus age trajectory given the site index of a species.</p></li>
</ol>
<p>SIBEC (i.e., SI from BEC site series) tables allow you to also estimate the site index given the site series, which can be used for stands with no trees.&nbsp;You will use <strong>SiteTools</strong> (software) and the <strong>SIBEC tables</strong> (EXCEL file and .pdf file) to answer a number of questions.&nbsp;SiteTools operates in a manner similar to VDYP and to TIPSY. However, before doing this exercise, go through the <strong>Site Tools quick description.docx</strong> file and repeat the example using Site Tools loaded on your desktop.</p>
<section id="using-the-polygons-from-exercise-6" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="using-the-polygons-from-exercise-6">Using the Polygons from Exercise 6</h4>
<div id="tbl-polys" class="anchored">
<table class="table">
<caption>Table&nbsp;1: Table 1. Three polygons selected from the western redcedar dominated stands of MKRF (Data Source: VRI 2014 forest cover map, layer 1).</caption>
<colgroup>
<col style="width: 9%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 15%">
<col style="width: 20%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th>LY_ID</th>
<th>LBL_SPECIS</th>
<th>EST_SI_SPC</th>
<th>EST_SI (m)</th>
<th>CR_CLOSURE (%)</th>
<th>Shape_Ar (in ha)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>611</td>
<td>CwHw(Fd)</td>
<td>CW</td>
<td>20</td>
<td>65</td>
<td>11.1</td>
</tr>
<tr class="even">
<td>621</td>
<td>CwHw(Fd)</td>
<td>CW</td>
<td>21</td>
<td>65</td>
<td>2.1</td>
</tr>
<tr class="odd">
<td>622</td>
<td>CwHw(Fd)</td>
<td>CW</td>
<td>18</td>
<td>70</td>
<td>7.1</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="question-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-1">Question 1</h3>
<p>Use Site Tools to obtain a height trajectory (height over age table) for the top height trees of this stand from 10 to 250 years breast height age.&nbsp;</p>
<ol type="A">
<li><p><u>Graph this trajectory.</u></p></li>
<li><p>Is this a very productive stand? Remember the site index indicates that the average of the best (i.e., top height for BC SI curves) trees is 21 m for CW at 50 years old (breast height age). Also, consider how tall the top height is expected to be at 250 years old (breast height age).</p></li>
<li><p>What would the estimated top height be 10 years from now in 2023 for this stand? <em>NOTE: The PROJ_Age = 218 years as of 2014, the Reference Date).</em></p></li>
<li><p>Based on what you know about this type of stand, is it likely that the stand would survive to 2033?</p></li>
<li><p>Use Site Tools to obtain a height trajectory (height over age table) for the top height trees of this stand from 10 to 250 years breast height age.&nbsp; <u>Graph this trajectory.</u></p></li>
</ol>
</section>
<section id="question-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-2">Question 2</h3>
<p>You have two primarily Coastal Douglas-fir (<em>Pseudotsuga</em> <em>menziesii</em> var. <em>menziesii</em>) stands growing in the CWH BEC zone. Stand #1 is currently 70 years old (breast height age) with a top height of 30 m and Stand #2 is currently 50 years old (breast height age) with a top height of 35 m.</p>
<ol type="A">
<li>Use Site Tools to get the site index for each stand.</li>
<li>Which stand is more productive based on site index (i.e., higher site index)?</li>
<li>What other attributes would you need on each stand to forecast them using VDYP 7? Also, what would these be called (i.e., the variable labels) in the VRI attributes? HINT: What variables did you use in Exercise 6 to forecast stands using VDYP and where they called in the VRI attribute file? You also have <strong>2014_VRI_Photo_Interpretation_Procedures_Ver30_final.pdf</strong> with details on each attribute.</li>
</ol>
</section>
<section id="question-3" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-3">Question 3</h3>
<p>In Exercise 6, the site index values for the three polygons were for western redcedar (CW) as the dominant species. However, post-harvest, you simulated the yields after planting 1600 stems/ha of coastal Douglas-fir (FD). For that, you had to decide on what site index to use for the coastal Douglas fir post-harvest (e.g., same as for CW?).&nbsp; <u>Alternatively,</u> you could have used SIBEC relationships to get SI estimates for the post-harvest coastal Douglas fir given the BEC site series (see <strong>sibec2013approx_final.xlsx)</strong>.&nbsp;</p>
<p>Using QGIS, the VRI 2014 and the BEC layers were loaded for MKRF. Then, a query was used to locate the three stands from Ex. 6. Since <u>VRI polygons are delineated <em>based on the current forest that is on site</em></u>, whereas <u>BEC is the vegetation that <em>could be on the site</em></u>, the forest cover and site series polygons do not have the same boundaries.&nbsp; <u>As a result, one VRI stand may include several BEC site series/site association polygons.</u> &nbsp;</p>
<p>For the smallest of the three stands from Ex. 6, POLYID=621 (shown in green in Fig. 1), the BEC polygons were then overlaid onto this VRI forest cover polygon (shown in red in Fig. 1). Three of these BEC site series/site association polygons that overlap with POLYID=621 have been highlighted (label is circled in black).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3187624907.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Figure 1. Selected CW dominated 2014 VRI polygon (green) with an overlay of site series (red with labels). Three site series polygons that overlap with the VRI polygon are circled in black.</figcaption><p></p>
</figure>
</div>
<ol type="A">
<li><p>Using one of these site series/site associations within this VRI 2014 polygon, the <strong>FdHw-Salal (03) site series/site association within the CWHdm BEC subzone</strong> (<strong>Vancouver Region</strong>), and the SIBEC table in EXCEL:</p>
<ol type="A">
<li><p>List the estimated SI index values for each species given in the SIBEC table for this site series/site association in a table;</p></li>
<li><p>Add both the common and the <u>full Latin names</u> for each tree species <u>(includes the credit for the person who named the species)</u>; and</p></li>
<li><p>Include the number of plots on which these estimated SI from BEC values are based. A blank in this cell means there were no plots and these SI values are estimated from a similar site series/site association.</p></li>
</ol></li>
</ol>
<div class="{callout-note}">
<ol type="i">
<li>NOTE: This is the Vancouver region. ii) See the file, <strong>VRI_Ground_Sampling_species codes only_2017.pdf</strong> under for the VRI species codes. iii) You will need to use the internet to find whom to credit for each Latin name – try looking for “Silvics of North America” on the internet for these (excellent source!). iv) Finally, for coastal Douglas-fir or for coastal lodgepole pine, include the variety in the Latin name, since the variety of each of these species greatly changes growth characteristics.</li>
</ol>
</div>
<ol start="2" type="A">
<li><p>Repeat this using the <u>other two circled site series/site associations</u> that overlap with this VRI polygon.</p></li>
<li><p>How reliable are these SIBEC estimates?&nbsp; Consider: What information was included in these tables that might indicate reliability?</p></li>
<li><p>How would using these SIBEC estimates for FD SI change the forecast you did using TIPSY for this stand in Exercise 6 (i.e., instead of using the VRI 2014 CW SI=21 for this polygon)?</p>
<ol type="A">
<li><p>Briefly explain how the yields would change depending on what you assumed for the FD SI post-harvest.</p></li>
<li><p>Then, which would you choose to use? Or would you use more than one approach? Justify your choice.</p></li>
</ol></li>
</ol>
<hr>
</section>
</section>
<section id="task-2---density-competition-measures" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="task-2---density-competition-measures">Task 2 - Density &amp; Competition Measures</h2>
<p>Competition among trees can be measured at a stand-level (or plot-level) or at a tree-level as noted. If competition for resources is very high, then competition-based mortality rates will be high as trees compete for available resources.</p>
<section id="question-4" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-4">Question 4</h3>
<div id="tbl-plots" class="anchored">
<table class="table">
<caption>Table&nbsp;2: Table 2. Plot level data analysis.</caption>
<thead>
<tr class="header">
<th>Tree No.</th>
<th>DBH (cm)</th>
<th>SPHtree</th>
<th>Ba/Tree(m2)</th>
<th>Bahatree (m2/ha)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>40.3</td>
<td>62.7</td>
<td>0.1276</td>
<td>8.0</td>
</tr>
<tr class="even">
<td>2</td>
<td>45.0</td>
<td>50.3</td>
<td>0.1590</td>
<td>8.0</td>
</tr>
<tr class="odd">
<td>3</td>
<td>22.7</td>
<td>197.7</td>
<td>0.0405</td>
<td>8.0</td>
</tr>
<tr class="even">
<td>4</td>
<td>50.1</td>
<td>40.6</td>
<td>0.1971</td>
<td>8.0</td>
</tr>
<tr class="odd">
<td>5</td>
<td>10.9</td>
<td>857.3</td>
<td>0.0093</td>
<td>8.0</td>
</tr>
</tbody>
</table>
</div>
<ol type="A">
<li><p>Was this a fixed-area or a variable radius plot? Explain.</p></li>
<li><p>If this was a fixed-area plot, what was the plot size (ha)? If this was a variable radius plot, what was the BAF (m2/ha)? Explain.</p></li>
<li><p>Calculate the quadratic mean DBH (cm; often labelled as qDBH or as Dq or as Dg) for this plot.</p></li>
<li><p>Calculate Curtis’ RD for this plot.</p></li>
<li><p>For each tree, calculate the basal area of larger trees (BAL; sum of bahatree for all trees larger than this tree). Which tree is under the highest competition? Lowest competition?</p></li>
</ol>
</section>
<section id="question-4-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-4-1">Question 4</h3>
<p>Stand #1 has 60 m2/ha of basal area and 1000 stems/ha. Stand #2 has 75 m2/ha of basal area and 400 stems/ha.</p>
<ol type="A">
<li><p>Using a fixed-area plot of 0.01 ha in each of these stands, how many “in” trees would you expect to get in each plot, on average? Show the calculations you used to support your answer.</p></li>
<li><p>If a variable-radius plot using a BAF of 4 m2/ha was used in each of these stands, how many “in” trees would you expect to get in each plot, on average? Support your answer with any calculations.</p></li>
<li><p>Calculate the quadratic mean DBH (cm; often labelled as qDBH or as Dq or as Dg) for each stand.</p></li>
<li><p>Calculate Curtis’ RD for each of these two stands.</p></li>
<li><p>Based on the stems/ha (aka stand density) which stand appears to have higher competition? What about using basal area/ha? Finally, based on Curtis’ RD, which stand has higher competition? Which one of these three measures is a better measure of the stand competition and explain why briefly?</p></li>
</ol>
<hr>
</section>
</section>
<section id="lab-questions-deliverables" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="lab-questions-deliverables">Lab Questions &amp; Deliverables</h2>
<ul class="task-list">
<li><input type="checkbox">Complete answers for four questions (all parts)</li>
<li><input type="checkbox"><em>all graphs and tables have captions and proper units</em></li>
</ul>
</section>
<section id="summary" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="summary">Summary</h2>
<p>In this lab we introduced SIBEC as a method to estimate site productivity and site classification. We also introduced calculating tree-level competition</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>